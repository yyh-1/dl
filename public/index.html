<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="vue.js"></script>
  <script src="axios.js"></script>
</head>
<body>
  <div id="app">
    用户：<input type="text" id="username" v-model="username"><br/>
    密码：<input type="text" id="password" v-model="password"><br/>
    <button @click="loginClick" class="login">登录</button>
    <button @click="registerClick" class="register">注册</button>
  </div>


  <script>
  
  const vm = new Vue({
    el:'#app',
    data: {
      username:'',
      password:'',
      userArr:[
        {name:'admin',pass:'1234'}
      ]   
    },
    methods: {
      loginClick(){
        // if(this.userArr.name.includes(this.username) && this.userArr.pass.includes(this.password)){
        //   console.log("1")
        // }else{
        //   console.log("2")
        // }

        // for(let i=0;i<this.userArr.length;i++){
        //   if(this.userArr[i].name==this.username && this.userArr[i].pass==this.password){
        //     console.log("1")
        //     alert("登录成功")
        //     window.location.href = `http://127.0.0.1:9999/login?username=${this.username}&password=${this.password}`;
        //     // document.cookie = 'name = admin'
        //     return;
        //   }
        //   // console.log("2")
        // }
        // alert("登录失败,用户名或密码错误");
        // window.location.href = 'http://127.0.0.1:9999/login';
        window.location.href = `http://127.0.0.1:9999/login?username=${this.username}&password=${this.password}`;
        // axios.get(`http://127.0.0.1:9999/login?username=${this.username}&password=${this.password}`).then((res) => {
        // console.log(res);
        // })
        
    },
    registerClick(){
      // let { userArr,username,password } = this;
      // userArr.push({
      //   name:username,
      //   pass:password
      // })
      // alert("注册成功")

      window.location.href = `http://127.0.0.1:9999/register?username=${this.username}&password=${this.password}`;
    },
  }
  })
  </script>


<style>
  #app{
    display: inline-block;
    position: absolute;
    left: calc(50% - 156px);
    top: calc(25% - 36px);
    background-color: blue;
    padding: 50px 50px;
  }
  #app input{
    margin-top: 10px;
  }
  #app button{
    margin-top: 20px;
    position: relative;
    left: calc(50% - 44px);
  }
  #app .register{
    margin-left: 20px;
  }
</style>




  <!-- <script>
    // 注册
    document.querySelector('#reg').addEventListener('click', async function () {
      const response = await fetch(`/reg?username=${document.querySelector('#username').value}&password=${document.querySelector('#password').value}`)
      const result = await response.json()
      console.log(result)
      alert(result.msg)
    })

    // 登录
    document.querySelector('#login').addEventListener('click', async function () {
      const response = await fetch(`/login`, {
        method: 'POST',
        body: JSON.stringify({
          username: document.querySelector('#username').value,
          password: document.querySelector('#password').value
        })
      })
      const result = await response.json()
      console.log(result)
      alert(result.msg)
    })
  </script> -->

</body>
</html>